{"version":3,"sources":["Redux/Reducer/Location.js","Redux/Reducer/Shopes.js","Redux/Reducer/SeletedOption.js","Redux/Reducer/RootReducer.js","Redux/Action/Types.js","Redux/Store.js","Redux/Action/Location.js","Api/Location.js","Api/Shopes.js","Class/MapMethod.js","Class/SelectData.js","Container/SearchBox.js","Class/Common.js","Container/BusinessTime.js","Container/SideMenu.js","Redux/Action/SeletedOption.js","Container/InfoWindow.js","Container/Marker.js","Container/MyMap.js","Container/MaskMap.js","Redux/Action/Shopes.js","index.js","App.js"],"names":["locationInitState","list","errorCode","errorText","shopesInitState","selectedOptionInitState","distance","info","text","mask","RootReducer","combineReducers","location","state","action","type","notification","error","message","description","shopes","selectedOption","store","createStore","applyMiddleware","thunk","dispatchReceiveLocation","Promise","res","rej","navigator","geolocation","watchPosition","position","lat","coords","latitude","lng","longitude","then","json","dispatch","receiveUserLocation","callGetShopes","axios","get","response","data","features","MapMethod","pointA","pointB","lat1","lon1","lat2","lon2","φ1","Math","PI","φ2","Δφ","Δλ","a","sin","cos","atan2","sqrt","round","userLocation","i","length","this","calculateDistance","geometry","coordinates","push","SelectData","SearchBox","props","mapApi","map","searchBox","useEffect","places","refs","searchInput","addListener","onPlacesChanged","bindTo","selected","getPlaces","place","viewport","fitBounds","setCenter","setZoom","addPlace","ref","onFocus","value","placeholder","className","Common","split","icon","week","sunday","monday","tuesday","wednesday","thursday","friday","saturday","forEach","item","Column","Table","BusinessTime","timeList","gererateBusinessHours","morning","afternoon","night","search","CheckCircleTwoTone","twoToneColor","morningOpenList","gererateTimeTable","afternoonOpenList","nightOpenList","key","time","dataSource","pagination","bordered","title","dataIndex","align","Search","Input","SideMenu","useDispatch","onSelectClick","e","domEvent","currentTarget","getAttribute","parseInt","receiveSelectedDistance","dispatchReceiveSelectedDistance","receiveSelectedMask","dispatchReceiveSelectedMask","gererateDropMenu","menu","index","Item","onClick","data-type","data-info","data-text","isLoading","Object","keys","maps","filteredShopes","generateNearbyShop","currentLocation","filterShopes","currentDistance","mapInstance","onSearch","console","log","style","width","overlay","trigger","href","shop","properties","id","name","address","phone","note","available","mask_adult","mask_child","updated","InfoWindow","isShow","show","Marker","MyMap","bootstrapURLKeys","process","libraries","defaultCenter","originLocation","defaultZoom","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","setGoogleMaps","onChildClick","findIndex","MaskMap","useState","setMaps","mapState","useCallback","useMappedState","receiveShopes","catch","status","statusText","setPlaces","filter","shope","size","ReactDOM","render","Provider","Store","document","getElementById"],"mappings":"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","file":"static/js/main.d638179d.chunk.js","sourcesContent":["import { RECEIVE_USER_LOCATION, RECEIVE_USER_LOCATION_ERROR } from '../Action/Types';\r\nimport { notification } from 'antd';\r\n\r\nconst locationInitState = {\r\n  list: [],\r\n  errorCode: 0,\r\n  errorText: '',\r\n};\r\n\r\nexport const location = (state = locationInitState, action) => {\r\n  switch (action.type) {\r\n    case RECEIVE_USER_LOCATION:\r\n    return {\r\n      ...state,\r\n      list: action.list,\r\n    };\r\n    case RECEIVE_USER_LOCATION_ERROR:\r\n    return {\r\n        ...state,\r\n        errorCode: action.errorCode,\r\n        errorText: notification.error({\r\n        message: '取得位置資料失敗',\r\n        description: action.errorText,\r\n      }),\r\n    };\r\n    default:\r\n    return state;\r\n  }\r\n};\r\n","import { RECEIVE_SHOPES, RECEIVE_SHOPES_ERROR } from '../Action/Types';\r\nimport { notification } from 'antd';\r\n\r\nconst shopesInitState = {\r\n  list: [],\r\n  errorCode: 0,\r\n  errorText: '',\r\n};\r\n\r\nexport const shopes = (state = shopesInitState, action) => {\r\n  switch (action.type) {\r\n    case RECEIVE_SHOPES:\r\n    return {\r\n      ...state,\r\n      list: action.list,\r\n    };\r\n    case RECEIVE_SHOPES_ERROR:\r\n    return {\r\n        ...state,\r\n        errorCode: action.errorCode,\r\n        errorText: notification.error({\r\n        message: '取得店家資料失敗',\r\n        description: action.errorText,\r\n      }),\r\n    };\r\n    default:\r\n    return state;\r\n  }\r\n};\r\n","import { RECEIVE_SELECTED_DISTANCE, RECEIVE_SELECTED_MASK_TYPE } from '../Action/Types';\r\n\r\nconst selectedOptionInitState = {\r\n    distance: {\r\n        info: 1,\r\n        text: '一公里'\r\n    },\r\n    mask:  {\r\n        info: '',\r\n        text: '口罩種類'\r\n    },\r\n};\r\n\r\nexport const selectedOption = (state = selectedOptionInitState, action) => {\r\n    switch (action.type) {\r\n        case RECEIVE_SELECTED_DISTANCE:\r\n        return {\r\n            ...state,\r\n            distance: {\r\n                info: action.info,\r\n                text: action.text\r\n            },\r\n        };\r\n        case RECEIVE_SELECTED_MASK_TYPE:\r\n        return {\r\n            ...state,\r\n            mask: {\r\n                info: action.info,\r\n                text: action.text\r\n            },\r\n        };\r\n        default:\r\n        return state;\r\n    }\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { location } from './Location';\r\nimport { shopes } from './Shopes';\r\nimport { selectedOption } from './SeletedOption';\r\n\r\nconst RootReducer = combineReducers({\r\n    location,\r\n    shopes,\r\n    selectedOption\r\n  });\r\n  \r\nexport default RootReducer;\r\n","export const RECEIVE_SHOPES = 'RECEIVE_SHOPES';\r\nexport const RECEIVE_SHOPES_ERROR = 'RECEIVE_SHOPES_ERROR';\r\n\r\nexport const RECEIVE_USER_LOCATION = 'RECEIVE_USER_LOCATION';\r\nexport const RECEIVE_USER_LOCATION_ERROR = 'RECEIVE_USER_LOCATION_ERROR';\r\n\r\nexport const RECEIVE_SELECTED_DISTANCE = 'RECEIVE_SELECTED_DISTANCE';\r\nexport const RECEIVE_SELECTED_MASK_TYPE = 'RECEIVE_SELECTED_MASK_TYPE';\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport RootReducer from './Reducer/RootReducer';\r\n\r\nconst store = createStore(RootReducer, applyMiddleware(thunk));\r\nexport default store;\r\n","import { RECEIVE_USER_LOCATION, RECEIVE_USER_LOCATION_ERROR } from './Types';\r\nimport initMap from '../../Api/Location';\r\nimport store from '../Store';\r\n\r\nexport const receiveUserLocation = json => (\r\n  {\r\n    type: RECEIVE_USER_LOCATION,\r\n    list: json\r\n  }\r\n);\r\n\r\nexport const receiveUserLocationError = (errorCode, errorText) => (\r\n  {\r\n    type: RECEIVE_USER_LOCATION_ERROR,\r\n    errorCode,\r\n    errorText,\r\n  }\r\n);\r\n\r\nexport const dispatchReceiveLocation = () => (\r\n  () => (\r\n    initMap()\r\n      .then((json) => {\r\n        if (json) {\r\n          store.dispatch(receiveUserLocation(json));\r\n        }\r\n    })\r\n  )\r\n);\r\n","export default function initMap () {\r\n  return new Promise((res, rej) => {\r\n    navigator.geolocation.watchPosition(position => {\r\n      res({lat: position.coords.latitude, lng: position.coords.longitude});\r\n    });\r\n  });\r\n}\r\n","import axios from 'axios';\r\n\r\nconst callGetShopes = () => {\r\n  const url = 'https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json';\r\n  return axios.get(url).then(response => (response.data.features));\r\n}\r\n\r\nexport default callGetShopes;\r\n","class MapMethod {\r\n  static calculateDistance(pointA, pointB) {\r\n      // http://www.movable-type.co.uk/scripts/latlong.html\r\n    const lat1 = pointA.lat;\r\n    const lon1 = pointA.lng;\r\n    \r\n    const lat2 = pointB[1];\r\n    const lon2 = pointB[0];\r\n    \r\n    const R = 6371e3; // earth radius in meters\r\n    const φ1 = lat1 * (Math.PI / 180);\r\n    const φ2 = lat2 * (Math.PI / 180);\r\n    const Δφ = (lat2 - lat1) * (Math.PI / 180);\r\n    const Δλ = (lon2 - lon1) * (Math.PI / 180);\r\n    \r\n    const a = (Math.sin(Δφ / 2) * Math.sin(Δφ / 2)) +\r\n                ((Math.cos(φ1) * Math.cos(φ2)) * (Math.sin(Δλ / 2) * Math.sin(Δλ / 2)));\r\n    \r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    \r\n    const distance = R * c;\r\n    return Math.round(distance); // in meters\r\n  }\r\n\r\n  static generateNearbyShop(userLocation, shopes, distance){\r\n    const list = [];\r\n    for (let i = 0; i < shopes.length; i ++) {\r\n      if (this.calculateDistance(userLocation, shopes[i].geometry.coordinates) <= distance) {\r\n        list.push(shopes[i]);\r\n      };\r\n    }\r\n    return list;\r\n  }\r\n}\r\n\r\nexport default MapMethod;\r\n","class SelectData {\r\n  static distance =[\r\n    {\r\n      type: 'distance',\r\n      info: 1,\r\n      text: '一公里'\r\n    },\r\n    {\r\n      type: 'distance',\r\n      info: 5,\r\n      text: '五公里'\r\n    },\r\n    {\r\n      type: 'distance',\r\n      info: 10,\r\n      text: '十公里'\r\n    }\r\n  ];\r\n  static mask = [\r\n    {\r\n      type: 'mask',\r\n      info: 'all',\r\n      text: '全部'\r\n    },\r\n    {\r\n      type: 'mask',\r\n      info: 'adult',\r\n      text: '成人口罩'\r\n    },\r\n    {\r\n      type: 'mask',\r\n      info: 'child',\r\n      text: '兒童口罩'\r\n    }\r\n  ]\r\n}\r\n\r\nexport default SelectData;\r\n","import React, { useEffect } from 'react';\r\n\r\nexport default function SearchBox(props) {\r\n  const mapApi = props.mapApi;\r\n  const map = props.map;\r\n\r\n  let searchBox = null;\r\n\r\n  useEffect(() => {\r\n    if (map || mapApi) {\r\n      searchBox = new mapApi.places.SearchBox(refs.searchInput);\r\n      searchBox.addListener('places_changed', onPlacesChanged);\r\n      searchBox.bindTo('bounds', map);\r\n    }\r\n  });\r\n\r\n  const refs = {};\r\n  const onSearchBoxMounted = ref => {\r\n    refs.searchInput = ref;\r\n  }\r\n\r\n  function onPlacesChanged () {\r\n    const selected = searchBox.getPlaces();\r\n    const { 0: place } = selected;\r\n    if (!place.geometry) return;\r\n    if (place.geometry.viewport) {\r\n      map.fitBounds(place.geometry.viewport);\r\n    } else {\r\n      map.setCenter(place.geometry.location);\r\n      map.setZoom(17);\r\n    }\r\n\r\n    props.addPlace(selected);\r\n  }\r\n\r\n  function clearSearchBox() {\r\n    refs.searchInput.value = '';\r\n  }\r\n  \r\n  return (\r\n    <input\r\n      ref={onSearchBoxMounted}\r\n      type=\"text\"\r\n      onFocus={clearSearchBox}\r\n      placeholder=\"我的位置\"\r\n      className=\"google-search-input-style\"\r\n    />\r\n  );\r\n}\r\n","class Common {\r\n\tstatic gererateBusinessHours(text) {\r\n\t\treturn text.split('、');\r\n\t}\r\n\r\n\tstatic gererateTimeTable(list, type, icon) {\r\n\t\tconst week = {\r\n\t\t\tsunday: '',\r\n\t\t\tmonday: '',\r\n\t\t\ttuesday: '',\r\n\t\t\twednesday: '',\r\n\t\t\tthursday: '',\r\n\t\t\tfriday: '',\r\n\t\t\tsaturday: '',\r\n\t\t};\r\n\t\tlist.forEach(item => {\r\n\t\t\tswitch (item) {\r\n\t\t\t\tcase `星期日${type}看診`:\r\n\t\t\t\t\tweek.sunday = icon;\r\n\t\t\t\t  break;\r\n\t\t\t\tcase `星期一${type}看診`:\r\n\t\t\t\t\tweek.monday = icon;\r\n\t\t\t\t  break;\r\n\t\t\t\tcase `星期二${type}看診`:\r\n\t\t\t\t\tweek.tuesday = icon;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase `星期三${type}看診`:\r\n\t\t\t\t\tweek.wednesday = icon;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase `星期四${type}看診`:\r\n\t\t\t\t\tweek.thursday = icon;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase `星期五${type}看診`:\r\n\t\t\t\t\tweek.friday = icon;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase `星期六${type}看診`:\r\n\t\t\t\t\tweek.saturday = icon;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t  }\r\n\t\t});\r\n\r\n\t\treturn week;\r\n\t}\r\n}\r\n\r\nexport default Common;\r\n","import React from 'react';\r\nimport { Table } from 'antd';\r\nimport Common from '../Class/Common';\r\nimport { CheckCircleTwoTone } from '@ant-design/icons';\r\n\r\nconst { Column } = Table;\r\n\r\nexport default function BusinessTime(props) {\r\n  const timeList = Common.gererateBusinessHours(props.timeList);\r\n  let morning = [];\r\n  let afternoon = [];\r\n  let night = [];\r\n\r\n  timeList.forEach(item => {\r\n    if (item.search('上午') > 0) {\r\n        morning.push(item);\r\n    }\r\n    if (item.search('下午') > 0) {\r\n        afternoon.push(item);\r\n    }\r\n    if (item.search('晚上') > 0) {\r\n        night.push(item);\r\n    }\r\n  });\r\n\r\n  const icon = <CheckCircleTwoTone twoToneColor=\"#78D5D7\"/>;\r\n  const morningOpenList = Common.gererateTimeTable(morning, '上午', icon);\r\n  const afternoonOpenList = Common.gererateTimeTable(afternoon, '下午', icon);\r\n  const nightOpenList = Common.gererateTimeTable(night, '晚上', icon);\r\n\r\n  const data = [\r\n    {\r\n      key: '1',\r\n      time: '早',\r\n      ...morningOpenList,\r\n    },\r\n    {\r\n      key: '2',\r\n      time: '中',\r\n      ...afternoonOpenList,\r\n    },\r\n    {\r\n      key: '3',\r\n      time: '晚',\r\n      ...nightOpenList,\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Table\r\n      dataSource={data}\r\n      pagination={false}\r\n      bordered={true}\r\n    >\r\n      <Column title=\"\" dataIndex=\"time\" key=\"time\" align=\"center\" />\r\n      <Column title=\"日\" dataIndex=\"sunday\" key=\"sunday\" align=\"center\" />\r\n      <Column title=\"一\" dataIndex=\"monday\" key=\"monday\" align=\"center\" />\r\n      <Column title=\"二\" dataIndex=\"tuesday\" key=\"tuesday\" align=\"center\" />\r\n      <Column title=\"三\" dataIndex=\"wednesday\" key=\"wednesday\" align=\"center\" />\r\n      <Column title=\"四\" dataIndex=\"thursday\" key=\"thursday\" align=\"center\" />\r\n      <Column title=\"五\" dataIndex=\"friday\" key=\"friday\" align=\"center\" />\r\n      <Column title=\"六\" dataIndex=\"saturday\" key=\"saturday\" align=\"center\" />\r\n    </Table>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useDispatch } from 'redux-react-hook';\r\nimport { Menu, Dropdown, Icon, Input } from 'antd';\r\nimport {\r\n  dispatchReceiveSelectedDistance,\r\n  dispatchReceiveSelectedMask\r\n} from '../Redux/Action/SeletedOption';\r\nimport MapMethod from '../Class/MapMethod';\r\nimport SelectData from '../Class/SelectData';\r\nimport SearchBox from './SearchBox';\r\nimport BusinessTime from './BusinessTime';\r\n\r\nconst { Search } = Input;\r\n\r\nexport default function SideMenu (props) {\r\n  const dispatch = useDispatch();\r\n\r\n  const onSelectClick = (e) => {\r\n    const type = e.domEvent.currentTarget.getAttribute('data-type');\r\n    const info = e.domEvent.currentTarget.getAttribute('data-info');\r\n    const text = e.domEvent.currentTarget.getAttribute('data-text');\r\n    if (type === 'distance') {\r\n      const distance = {\r\n        text,\r\n        info: parseInt(info),\r\n      };\r\n      dispatch(dispatchReceiveSelectedDistance(distance));\r\n    }\r\n    if (type === 'mask') {\r\n      const mask = {\r\n        text,\r\n        info,\r\n      };\r\n      dispatch(dispatchReceiveSelectedMask(mask));\r\n    }\r\n  };\r\n  \r\n  function gererateDropMenu(list) {\r\n    const menu = list.map((item, index) => \r\n      <Menu.Item\r\n        key={index}\r\n        onClick={onSelectClick}\r\n        data-type={item.type}\r\n        data-info={item.info}\r\n        data-text={item.text}\r\n      >\r\n        {item.text}\r\n      </Menu.Item>\r\n    );\r\n    return (\r\n      <Menu>\r\n        {menu}\r\n      </Menu>\r\n    );\r\n  }\r\n\r\n  const isLoading = Object.keys(props.maps).length === 0;\r\n  const filteredShopes = MapMethod.generateNearbyShop(props.currentLocation, props.filterShopes(), props.currentDistance);\r\n\r\n  return (\r\n    <div className=\"side-search\">\r\n      <div className=\"filter-type\">\r\n        <div className=\"search-main\">\r\n          {isLoading ? \r\n            null : \r\n            <SearchBox\r\n              map={props.maps.mapInstance}\r\n              mapApi={props.maps.mapApi}\r\n              addPlace={props.addPlace}\r\n            />\r\n          }\r\n          <Search\r\n            onSearch={value => console.log(value)}\r\n            style={{ width: 200 }}\r\n            className=\"search-main-style\"\r\n          />\r\n        </div>\r\n        <Dropdown\r\n          overlay={gererateDropMenu(SelectData.distance)}\r\n          trigger={['click']} className=\"select-main-style\"\r\n        >\r\n          <button className=\"ant-dropdown-link\" href=\"#\">\r\n            {props.distance.text}\r\n            <Icon type=\"caret-down\" />\r\n          </button>\r\n        </Dropdown>\r\n        <Dropdown\r\n          overlay={gererateDropMenu(SelectData.mask)}\r\n          trigger={['click']} className=\"select-main-style\"\r\n        >\r\n          <button className=\"ant-dropdown-link\" href=\"#\">\r\n            {props.mask.text}\r\n            <Icon type=\"caret-down\" />\r\n          </button>\r\n        </Dropdown>\r\n      </div>\r\n      <ul className=\"shop-info\">\r\n        {filteredShopes.length === 0 ? <p>附近無藥局</p> :\r\n          (filteredShopes.map(shop => (\r\n          <li key={shop.properties.id}>\r\n            <span className=\"distance\">\r\n              {MapMethod.calculateDistance(props.currentLocation, shop.geometry.coordinates)}公尺\r\n            </span>\r\n            <p className=\"title\">{shop.properties.name}</p>\r\n            <span className=\"address\">{shop.properties.address}</span>\r\n            <span className=\"phone\">{shop.properties.phone}</span>\r\n            <div className=\"note\">{shop.properties.note}</div>\r\n            <div className=\"business-hours\">\r\n              <BusinessTime timeList={shop.properties.available}/>\r\n            </div>\r\n            <div className=\"quantity-display\">\r\n              <div className=\"adult\">成人口罩 <strong>{shop.properties.mask_adult}</strong></div>\r\n              <div className=\"child\">兒童口罩 <strong>{shop.properties.mask_child}</strong></div>\r\n            </div>\r\n            <div className=\"update-time\">更新時間 {shop.properties.updated}</div>\r\n          </li>)\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n","import { RECEIVE_SELECTED_DISTANCE, RECEIVE_SELECTED_MASK_TYPE } from './Types';\r\nimport store from '../Store';\r\n\r\nexport const receiveSelectedDistance = distance => (\r\n    {\r\n        type: RECEIVE_SELECTED_DISTANCE,\r\n        text: distance.text,\r\n        info: distance.info,\r\n    }\r\n);\r\n\r\nexport const receiveSelectedMask = mask => (\r\n    {\r\n        type: RECEIVE_SELECTED_MASK_TYPE,\r\n        text: mask.text,\r\n        info: mask.info,\r\n    }\r\n);\r\n\r\nexport const dispatchReceiveSelectedDistance = (distance) => (\r\n    store.dispatch(receiveSelectedDistance(distance))\r\n);\r\n\r\nexport const dispatchReceiveSelectedMask = (mask) => (\r\n    store.dispatch(receiveSelectedMask(mask))\r\n);\r\n","import React from 'react';\r\nimport BusinessTime from './BusinessTime';\r\n\r\nexport default function InfoWindow(props) {\r\n    const isShow = props.place.show;\r\n    const note = props.place.properties.note;\r\n\r\n    return (\r\n      <>\r\n      {isShow? \r\n      <div className=\"info-window clear-fix\">\r\n        <div className=\"col text\">\r\n            <h3 className=\"name\">\r\n              {props.place.properties.name}\r\n            </h3>\r\n            <p className=\"address\">\r\n              {props.place.properties.address}\r\n            </p>\r\n            <p className=\"address\">\r\n              {props.place.properties.phone}\r\n            </p>\r\n            <div className=\"mask-type\">\r\n              <div className=\"adult\">\r\n                <b>成人口罩</b>\r\n                {props.place.properties.mask_adult}\r\n              </div>\r\n              <div className=\"child\">\r\n                <b>兒童口罩</b>\r\n                {props.place.properties.mask_child}\r\n              </div>\r\n            </div>\r\n            <div className=\"updated\">\r\n              <span>更新時間</span>\r\n              {props.place.properties.updated}\r\n            </div>\r\n            <div className=\"note\">\r\n              {note}\r\n            </div>\r\n        </div>\r\n        <div className=\"col available\">\r\n          <BusinessTime timeList={props.place.properties.available}/>\r\n        </div>\r\n      </div> : null\r\n      }\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport InfoWindow from './InfoWindow';\r\n\r\nexport default function Marker(props) {\r\n  return (\r\n    <div className=\"map-marker\">\r\n      <div className=\"pin bounce\"/>\r\n      <div className=\"pulse\" />\r\n      <InfoWindow place={props.place}/>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport GoogleMapReact from 'google-map-react';\r\n\r\nimport Marker from './Marker';\r\nimport MapMethod from '../Class/MapMethod';\r\n\r\nexport default function MyMap(props) {\r\n  function onInfoClick (key) {\r\n    const index = props.shopes.findIndex(e => e.properties.id === key);\r\n    props.shopes[index].show = !props.shopes[index].show;\r\n  }\r\n\r\n  const filteredShopes = MapMethod.generateNearbyShop(props.currentLocation, props.filterShopes(), props.currentDistance);\r\n\r\n  return (\r\n    <div className=\"main-map\">\r\n      <GoogleMapReact\r\n        bootstrapURLKeys={{ \r\n          key: `${process.env.REACT_APP_GOOGLE_KEY}`,  \r\n          libraries: ['places', 'geometry'],\r\n        }}\r\n        defaultCenter={props.originLocation}\r\n        defaultZoom={15}\r\n        yesIWantToUseGoogleMapApiInternals\r\n        onGoogleApiLoaded={({ map, maps }) => {props.setGoogleMaps(map, maps)}}\r\n        onChildClick={onInfoClick}\r\n      >\r\n      {filteredShopes.map(shop => (\r\n        <Marker\r\n          key={shop.properties.id}\r\n          lat={shop.geometry.coordinates[1]}\r\n          lng={shop.geometry.coordinates[0]}\r\n          place={shop}\r\n        />\r\n      ))}\r\n      </GoogleMapReact>\r\n    </div> \r\n  );\r\n}\r\n","import React, { useEffect, useCallback, useState } from 'react';\r\nimport { useMappedState, useDispatch } from 'redux-react-hook';\r\nimport { Spin } from 'antd';\r\n\r\nimport { dispatchReceiveLocation } from '../Redux/Action/Location';\r\nimport { dispatchReceiveCname } from '../Redux/Action/Shopes';\r\n\r\nimport SideMenu from './SideMenu';\r\nimport MyMap from './MyMap';\r\nimport MapMethod from '../Class/MapMethod';\r\n\r\nconst DEFAULT_DISTANCE = 1000;\r\n\r\nexport default function MaskMap() {\r\n  const [maps, setMaps] = useState({});\r\n  function setGoogleMaps (map, maps) {\r\n    setMaps({\r\n      mapInstance: map,\r\n      mapApi: maps,\r\n    });\r\n\t}\r\n\t\r\n\tconst mapState = useCallback(\r\n\t\tstate => ({\r\n\t\tlocation: state.location.list,\r\n\t\tshopes: state.shopes.list,\r\n\t\tdistance: state.selectedOption.distance,\r\n\t\tmask: state.selectedOption.mask\r\n\t}), []);\r\n\tconst { location, shopes, distance, mask } = useMappedState(mapState);\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(dispatchReceiveLocation());\r\n    dispatch(dispatchReceiveCname());\r\n\t},[]);\r\n\t\r\n  const [places, setPlaces] = useState({lat:0, lng:0});\r\n  function addPlace (place) {\r\n    setPlaces({\r\n\t\t\tlat: place[0].geometry.location.lat(),\r\n\t\t\tlng: place[0].geometry.location.lng()\r\n\t\t});\r\n\t}\r\n\r\n  const isLoading = ((location.length === 0) || \r\n    (shopes.length === 0));\r\n  \r\n  const originLocation = { lat: location.lat, lng: location.lng };\r\n  const currentLocation = places.lat === 0 ? originLocation : places;\r\n  const currentDistance = distance.info === 0 ? DEFAULT_DISTANCE : distance.info * 1000;\r\n\t\r\n  function filterShopes () {\r\n    if (mask.info === 'child') {\r\n      return shopes.filter(shope => shope.properties.mask_child > 0);\r\n    }\r\n    if (mask.info === 'adult') {\r\n      return shopes.filter(shope => shope.properties.mask_adult > 0);\r\n    }\r\n    return shopes\r\n\t}\r\n\t\r\n  return (\r\n    <div className=\"container\">\r\n\t\t\t{isLoading ? <Spin size=\"large\" /> : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<SideMenu\r\n\t\t\t\t\t\tmaps={maps}\r\n\t\t\t\t\t\tmask={mask}\r\n\t\t\t\t\t\tshopes={shopes}\r\n\t\t\t\t\t\tdistance={distance}\r\n\t\t\t\t\t\tlocation={location}\r\n\t\t\t\t\t\taddPlace={addPlace}\r\n\t\t\t\t\t\tcurrentLocation={currentLocation}\r\n\t\t\t\t\t\tcurrentDistance={currentDistance}\r\n\t\t\t\t\t\tfilterShopes={filterShopes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<MyMap\r\n\t\t\t\t\t\tsetGoogleMaps={setGoogleMaps}\r\n\t\t\t\t\t\tshopes={MapMethod.generateNearbyShop(currentLocation, shopes, currentDistance)}\r\n\t\t\t\t\t\toriginLocation={originLocation}\r\n\t\t\t\t\t\tcurrentLocation={currentLocation}\r\n\t\t\t\t\t\tcurrentDistance={currentDistance}\r\n\t\t\t\t\t\tfilterShopes={filterShopes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t\t)\r\n\t\t\t}\r\n    </div>\r\n  );\r\n}\r\n","import { RECEIVE_SHOPES, RECEIVE_SHOPES_ERROR } from './Types';\r\nimport callGetShopes from '../../Api/Shopes';\r\nimport store from '../Store';\r\n\r\nexport const receiveShopes = json => (\r\n  {\r\n    type: RECEIVE_SHOPES,\r\n    list: json\r\n  }\r\n);\r\n\r\nexport const receiveShopesError = (errorCode, errorText) => (\r\n  {\r\n    type: RECEIVE_SHOPES_ERROR,\r\n    errorCode,\r\n    errorText,\r\n  }\r\n);\r\n  \r\nexport const dispatchReceiveCname = () => (\r\n  () => (\r\n    callGetShopes()\r\n      .then((json) => {\r\n        if (json) {\r\n          json.forEach(item => (\r\n            item.show = false\r\n          ));\r\n          store.dispatch(receiveShopes(json));\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        store.dispatch(receiveShopesError(error.response.status, error.response.statusText));\r\n      })\r\n  )\r\n);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { StoreContext } from 'redux-react-hook';\r\nimport App from './App';\r\nimport Store from './Redux/Store';\r\n\r\nReactDOM.render(\r\n    <StoreContext.Provider value={Store}>\r\n        <App />\r\n    </StoreContext.Provider>,\r\n    document.getElementById('root')\r\n);\r\n","import React from 'react';\r\nimport './Css/App.scss';\r\nimport MaskMap from './Container/MaskMap';\r\n\r\nexport default function App() {\r\n  return (\r\n    <div className=\"container\">\r\n      <MaskMap />\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}